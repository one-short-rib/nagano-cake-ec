<% provide(:title, "注文一覧") %>
<div class = "row">
	<div class = "col-md-8 col-md-offset-2">
		<h3>注文履歴一覧</h3>

		<table class = "table table-hover">
			<div class = "no-border">
				<tr>
					<th>購入日時</th>
					<th>購入者(宛名)</th>
					<th>注文個数</th>
					<th>注文ステータス</th>
				</tr>

				<% if @orders.present? %>
					<% @orders.each do |order| %>
						<tr>
							<td>
								<%= link_to admin_order_path(order.id) do %>
								    <%= order.created_at.strftime('%Y/%m/%d') %>
								<% end %>
							</td>
							<!--fixtureのデータが統一できていないため、現状,orderのname(宛名)とfull_name(memberのname)で表示が異なる-->
							<td><%= full_name(order.member) %>(<%= order.name %>)</td>
							<td><%= total_count(order.order_items) %></td>
							<td><%= order.order_status %></td>
						</tr>
					<% end %>
				<% else %>
				    <h3>該当する検索結果はありませんでした</h3>
				<% end %>
			</div>
		</table>
	</div>
</div>
